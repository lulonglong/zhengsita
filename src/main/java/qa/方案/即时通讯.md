# IM
实时性
可靠性
一致性
安全性

短轮询
 ![alt](https://static001.geekbang.org/resource/image/f0/db/f0de61adecb8925483517cb5df2aecdb.png?wh=1505*1614)
长轮训
 ![alt](https://static001.geekbang.org/resource/image/55/8b/55b526787ddc5761508df251c5f76d8b.png?wh=1555*1392)
websocket
 ![alt](https://static001.geekbang.org/resource/image/3c/6b/3c2eaba794372659e78bb9d678d16d6b.png?wh=1614*1474)

对于开发人力相对充足的大厂，目前很多是基于 TCP（或者 UDP）来实现自己的私有协议，一方面私有协议能够贴合业务需要，做到真正的高效和省流；另一方面私有协议相对安全性更高一些，被破解的可能性小。目前主流的大厂很多都是采用私有协议为主的方式来实现

 ![alt](https://static001.geekbang.org/resource/image/6a/a2/6a20a4af19e3205201ab315b4680bca2.png?wh=886*656)
 ![alt](https://static001.geekbang.org/resource/image/41/33/41bd1f4c74e980f88cd1a2247f292133.png?wh=1637*2456)
 
 
# 群聊

用什么存储消息

消息路由

# 未读消息数
会话未读数
总未读数


# 消息已读







## 参考文章